<!DOCTYPE html>
<html lang="es">
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/index.css' %}">

<head>
    <meta charset="UTF-8">
    <title>Partido Cercano con Estadísticas</title>
</head>
<body>
    <div class="container-nav">
        <section class="match-info">
            <h2 class="text-center font-weight-bold mb-4">Próximo Partido con Estadísticas</h2>
            {% if partido_con_estadisticas %}
            <div class="match-teams">
                <!-- Equipo Local -->
                <div class="team text-center">
                    <img src="{% if partido_con_estadisticas.equipo_local.logo %}{{ partido_con_estadisticas.equipo_local.logo.url }}{% else %}{% static 'img/default_team.png' %}{% endif %}" 
                         alt="{{ partido_con_estadisticas.equipo_local.nombre_equipo }}" 
                         class="img-fluid rounded-circle border" 
                         style="width: 120px; height: 120px;">
                    <h4 class="mt-3 text-uppercase font-weight-bold">{{ partido_con_estadisticas.equipo_local.nombre_equipo }}</h4>
                    <p class="badge badge-primary p-2">Puntos: {{ partido_con_estadisticas.estadisticas.puntos_equipo_local }}</p>
                </div>
    
                <!-- Contenedor VS -->
                <div class="vs-container text-center d-flex flex-column justify-content-center">
                    <span class="badge badge-dark p-3" style="font-size: 1.5rem;">VS</span>
                </div>
    
                <!-- Equipo Visitante -->
                <div class="team text-center">
                    <img src="{% if partido_con_estadisticas.equipo_visitante.logo %}{{ partido_con_estadisticas.equipo_visitante.logo.url }}{% else %}{% static 'img/default_team.png' %}{% endif %}" 
                         alt="{{ partido_con_estadisticas.equipo_visitante.nombre_equipo }}" 
                         class="img-fluid rounded-circle border" 
                         style="width: 120px; height: 120px;">
                    <h4 class="mt-3 text-uppercase font-weight-bold">{{ partido_con_estadisticas.equipo_visitante.nombre_equipo }}</h4>
                    <p class="badge badge-danger p-2">Puntos: {{ partido_con_estadisticas.estadisticas.puntos_equipo_visitante }}</p>
                </div>
            </div>
    
            <!-- Información adicional -->
            <p class="mt-3 text-secondary text-center">
                {{ partido_con_estadisticas.fecha|date:"D, d M Y" }} | {{ partido_con_estadisticas.fecha|time:"H:i" }}
                {% if partido_con_estadisticas.estadio %}
                <br>Estadio: {{ partido_con_estadisticas.estadio.nombre }}
                {% endif %}
            </p>
    
            <!-- Probabilidades -->
            <div class="probability-section text-center mb-4">
                <h5 class="font-weight-bold mb-4">Probabilidad de Ganar</h5>
                <div class="row align-items-center">
                    <!-- Equipo Local -->
                    <div class="col-md-5 text-center">
                        <img src="{% if partido_con_estadisticas.equipo_local.logo %}{{ partido_con_estadisticas.equipo_local.logo.url }}{% else %}{% static 'img/default_team.png' %}{% endif %}" 
                             alt="{{ partido_con_estadisticas.equipo_local.nombre_equipo }}" 
                             class="img-fluid rounded-circle shadow-sm mb-2" 
                             style="width: 80px; height: 80px;">
                        <h6 class="font-weight-bold text-primary">{{ partido_con_estadisticas.equipo_local.nombre_equipo }}</h6>
                        <p class="text-primary font-weight-bold">{{ probabilidad_local }}%</p>
                    </div>
    
                    <!-- Barra -->
                    <div class="col-md-2 text-center">
                        <div class="" style="height: 20px;">
                            <div class="progress-bar bg-primary-estat" role="progressbar" 
                                 style="width: {{ probabilidad_local }}%; border-radius: 20px 0 0 20px;" 
                                 aria-valuenow="{{ probabilidad_local }}" aria-valuemin="0" aria-valuemax="100">
                            </div>
                            <div class="progress-bar bg-danger" role="progressbar" 
                                 style="width: {{ probabilidad_visitante }}%; border-radius: 0 20px 20px 0;" 
                                 aria-valuenow="{{ probabilidad_visitante }}" aria-valuemin="0" aria-valuemax="100">
                            </div>
                        </div>
                    </div>
    
                    <!-- Equipo Visitante -->
                    <div class="col-md-5 text-center">
                        <img src="{% if partido_con_estadisticas.equipo_visitante.logo %}{{ partido_con_estadisticas.equipo_visitante.logo.url }}{% else %}{% static 'img/default_team.png' %}{% endif %}" 
                             alt="{{ partido_con_estadisticas.equipo_visitante.nombre_equipo }}" 
                             class="img-fluid rounded-circle shadow-sm mb-2" 
                             style="width: 80px; height: 80px;">
                        <h6 class="font-weight-bold text-danger">{{ partido_con_estadisticas.equipo_visitante.nombre_equipo }}</h6>
                        <p class="text-danger font-weight-bold">{{ probabilidad_visitante }}%</p>
                    </div>
                </div>
            </div>
            {% else %}
            <p class="text-center text-secondary font-italic">No hay partidos con estadísticas disponibles.</p>
            {% endif %}
        </section>
    </div>
    
</body>
</html>
